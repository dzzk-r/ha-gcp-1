{"format_version":"1.2","terraform_version":"1.5.7","variables":{"app_image":{"value":"nginx:latest"},"cloud_armor_rules":{"value":["allow-all"]},"environment":{"value":"dev"},"gke_cluster_name":{"value":"default-cluster"},"ingress_controller":{"value":"nginx"},"project_id":{"value":"mock-project"},"psc_service":{"value":"my-psc-service"},"region":{"value":"mock-region"},"service_account_email":{"value":"mock-sa@mock-project.iam.gserviceaccount.com"},"subnet_cidr":{"value":"10.0.0.0/24"},"terraform_backend_bucket":{"value":"my-tf-bucket"},"terraform_backend_prefix":{"value":"tf-backend"},"vpc_name":{"value":"my-vpc"}},"planned_values":{"root_module":{"child_modules":[{"resources":[{"address":"module.a-infra.google_compute_backend_service.ext_lb_backend","mode":"managed","type":"google_compute_backend_service","name":"ext_lb_backend","provider_name":"registry.terraform.io/hashicorp/google","schema_version":1,"values":{"affinity_cookie_ttl_sec":null,"backend":[{"balancing_mode":"UTILIZATION","capacity_scaler":1,"description":""}],"circuit_breakers":[],"compression_mode":null,"connection_draining_timeout_sec":300,"consistent_hash":[],"custom_request_headers":null,"custom_response_headers":null,"description":null,"edge_security_policy":null,"enable_cdn":null,"health_checks":null,"ip_address_selection_policy":null,"load_balancing_scheme":"EXTERNAL","locality_lb_policies":[],"locality_lb_policy":null,"name":"ext-lb-backend","outlier_detection":[],"port_name":"http","project":"mock-project","protocol":"HTTP","security_policy":null,"security_settings":[],"service_lb_policy":null,"strong_session_affinity_cookie":[],"timeout_sec":30,"timeouts":null},"sensitive_values":{"backend":[{}],"cdn_policy":[],"circuit_breakers":[],"consistent_hash":[],"iap":[],"locality_lb_policies":[],"log_config":[],"outlier_detection":[],"security_settings":[],"strong_session_affinity_cookie":[]}},{"address":"module.a-infra.google_compute_firewall.allow_external_lb","mode":"managed","type":"google_compute_firewall","name":"allow_external_lb","provider_name":"registry.terraform.io/hashicorp/google","schema_version":1,"values":{"allow":[{"ports":["80","443"],"protocol":"tcp"}],"deny":[],"description":null,"disabled":null,"log_config":[],"name":"allow-external-lb","network":"vpc-external","priority":1000,"project":"mock-project","source_ranges":["0.0.0.0/0"],"source_service_accounts":null,"source_tags":null,"target_service_accounts":null,"target_tags":null,"timeouts":null},"sensitive_values":{"allow":[{"ports":[false,false]}],"deny":[],"destination_ranges":[],"log_config":[],"source_ranges":[false]}},{"address":"module.a-infra.google_compute_global_forwarding_rule.ext_lb_fwd_rule","mode":"managed","type":"google_compute_global_forwarding_rule","name":"ext_lb_fwd_rule","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"description":null,"ip_version":null,"labels":null,"load_balancing_scheme":"EXTERNAL","metadata_filters":[],"name":"ext-lb-fwd-rule","no_automate_dns_zone":null,"port_range":"80","project":"mock-project","source_ip_ranges":null,"timeouts":null},"sensitive_values":{"effective_labels":{},"metadata_filters":[],"service_directory_registrations":[],"terraform_labels":{}}},{"address":"module.a-infra.google_compute_network.vpc_external","mode":"managed","type":"google_compute_network","name":"vpc_external","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"auto_create_subnetworks":false,"delete_default_routes_on_create":false,"description":null,"enable_ula_internal_ipv6":null,"name":"vpc-external","network_firewall_policy_enforcement_order":"AFTER_CLASSIC_FIREWALL","network_profile":null,"project":"mock-project","timeouts":null},"sensitive_values":{}},{"address":"module.a-infra.google_compute_network.vpc_internal","mode":"managed","type":"google_compute_network","name":"vpc_internal","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"auto_create_subnetworks":false,"delete_default_routes_on_create":false,"description":null,"enable_ula_internal_ipv6":null,"name":"vpc-internal","network_firewall_policy_enforcement_order":"AFTER_CLASSIC_FIREWALL","network_profile":null,"project":"mock-project","timeouts":null},"sensitive_values":{}},{"address":"module.a-infra.google_compute_security_policy.cloud_armor_policy","mode":"managed","type":"google_compute_security_policy","name":"cloud_armor_policy","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"adaptive_protection_config":[],"description":null,"name":"cloud-armor-policy","project":"mock-project","recaptcha_options_config":[],"timeouts":null},"sensitive_values":{"adaptive_protection_config":[],"advanced_options_config":[],"recaptcha_options_config":[],"rule":[]}},{"address":"module.a-infra.google_compute_target_http_proxy.ext_lb_proxy","mode":"managed","type":"google_compute_target_http_proxy","name":"ext_lb_proxy","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"description":null,"http_keep_alive_timeout_sec":null,"name":"ext-lb-proxy","project":"mock-project","timeouts":null},"sensitive_values":{}},{"address":"module.a-infra.google_compute_url_map.ext_lb_map","mode":"managed","type":"google_compute_url_map","name":"ext_lb_map","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"default_route_action":[],"default_url_redirect":[],"description":null,"header_action":[],"host_rule":[],"name":"ext-lb-map","path_matcher":[],"project":"mock-project","test":[],"timeouts":null},"sensitive_values":{"default_route_action":[],"default_url_redirect":[],"header_action":[],"host_rule":[],"path_matcher":[],"test":[]}},{"address":"module.a-infra.google_container_cluster.gke_cluster","mode":"managed","type":"google_container_cluster","name":"gke_cluster","provider_name":"registry.terraform.io/hashicorp/google","schema_version":2,"values":{"allow_net_admin":null,"binary_authorization":[],"deletion_protection":true,"description":null,"dns_config":[],"effective_labels":{"goog-terraform-provisioned":"true"},"enable_autopilot":null,"enable_cilium_clusterwide_network_policy":false,"enable_fqdn_network_policy":false,"enable_k8s_beta_apis":[],"enable_kubernetes_alpha":false,"enable_l4_ilb_subsetting":false,"enable_legacy_abac":false,"enable_multi_networking":false,"enable_shielded_nodes":true,"enable_tpu":null,"fleet":[],"initial_node_count":null,"location":"asia-south1","maintenance_policy":[],"min_master_version":null,"name":"mock-cluster","network_policy":[],"private_cluster_config":[],"project":"mock-project","remove_default_node_pool":null,"resource_labels":null,"resource_usage_export_config":[],"secret_manager_config":[],"terraform_labels":{"goog-terraform-provisioned":"true"},"timeouts":null,"user_managed_keys_config":[]},"sensitive_values":{"addons_config":[],"authenticator_groups_config":[],"binary_authorization":[],"cluster_autoscaling":[],"confidential_nodes":[],"control_plane_endpoints_config":[],"cost_management_config":[],"database_encryption":[],"default_snat_status":[],"dns_config":[],"effective_labels":{},"enable_k8s_beta_apis":[],"enterprise_config":[],"fleet":[],"gateway_api_config":[],"identity_service_config":[],"ip_allocation_policy":[],"logging_config":[],"maintenance_policy":[],"master_auth":[],"master_authorized_networks_config":[],"mesh_certificates":[],"monitoring_config":[],"network_policy":[],"node_config":[],"node_locations":[],"node_pool":[],"node_pool_auto_config":[],"node_pool_defaults":[],"notification_config":[],"private_cluster_config":[],"release_channel":[],"resource_usage_export_config":[],"secret_manager_config":[],"security_posture_config":[],"service_external_ips_config":[],"terraform_labels":{},"user_managed_keys_config":[],"vertical_pod_autoscaling":[],"workload_identity_config":[]}},{"address":"module.a-infra.google_container_node_pool.gke_nodes","mode":"managed","type":"google_container_node_pool","name":"gke_nodes","provider_name":"registry.terraform.io/hashicorp/google","schema_version":1,"values":{"autoscaling":[],"node_config":[{"advanced_machine_features":[],"boot_disk_kms_key":null,"containerd_config":[],"enable_confidential_storage":null,"ephemeral_storage_local_ssd_config":[],"fast_socket":[],"gvnic":[],"host_maintenance_policy":[],"linux_node_config":[],"local_nvme_ssd_block_config":[],"local_ssd_encryption_mode":null,"machine_type":"e2-medium","max_run_duration":null,"node_group":null,"oauth_scopes":["https://www.googleapis.com/auth/cloud-platform"],"preemptible":false,"reservation_affinity":[],"resource_labels":null,"resource_manager_tags":null,"secondary_boot_disks":[],"sole_tenant_config":[],"spot":false,"storage_pools":null,"tags":null,"taint":[]}],"node_count":1,"placement_policy":[],"project":"mock-project","queued_provisioning":[],"timeouts":null},"sensitive_values":{"autoscaling":[],"instance_group_urls":[],"managed_instance_group_urls":[],"management":[],"network_config":[],"node_config":[{"advanced_machine_features":[],"confidential_nodes":[],"containerd_config":[],"effective_taints":[],"ephemeral_storage_local_ssd_config":[],"fast_socket":[],"gcfs_config":[],"guest_accelerator":[],"gvnic":[],"host_maintenance_policy":[],"kubelet_config":[],"labels":{},"linux_node_config":[],"local_nvme_ssd_block_config":[],"metadata":{},"oauth_scopes":[false],"reservation_affinity":[],"secondary_boot_disks":[],"shielded_instance_config":[],"sole_tenant_config":[],"taint":[],"workload_metadata_config":[]}],"node_locations":[],"placement_policy":[],"queued_provisioning":[],"upgrade_settings":[]}},{"address":"module.a-infra.google_storage_bucket_iam_member.terraform_state_viewer","mode":"managed","type":"google_storage_bucket_iam_member","name":"terraform_state_viewer","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"bucket":"mock-tf-state-bucket","condition":[],"member":"serviceAccount:mock-sa@mock-project.iam.gserviceaccount.com","role":"roles/storage.objectViewer"},"sensitive_values":{"condition":[]}},{"address":"module.a-infra.null_resource.mock_gke_nodes","mode":"managed","type":"null_resource","name":"mock_gke_nodes","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":null},"sensitive_values":{}},{"address":"module.a-infra.null_resource.mock_iam","mode":"managed","type":"null_resource","name":"mock_iam","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":null},"sensitive_values":{}},{"address":"module.a-infra.null_resource.mock_network","mode":"managed","type":"null_resource","name":"mock_network","provider_name":"registry.terraform.io/hashicorp/null","schema_version":0,"values":{"triggers":null},"sensitive_values":{}}],"address":"module.a-infra"},{"resources":[{"address":"module.b-devops.google_compute_network.vpc_internal","mode":"managed","type":"google_compute_network","name":"vpc_internal","provider_name":"registry.terraform.io/hashicorp/google","schema_version":0,"values":{"auto_create_subnetworks":true,"delete_default_routes_on_create":false,"description":null,"enable_ula_internal_ipv6":null,"name":"vpc-internal","network_firewall_policy_enforcement_order":"AFTER_CLASSIC_FIREWALL","network_profile":null,"project":"mock-project","timeouts":null},"sensitive_values":{}},{"address":"module.b-devops.google_container_cluster.gke","mode":"managed","type":"google_container_cluster","name":"gke","provider_name":"registry.terraform.io/hashicorp/google","schema_version":2,"values":{"allow_net_admin":null,"binary_authorization":[],"deletion_protection":true,"description":null,"dns_config":[],"effective_labels":{"goog-terraform-provisioned":"true"},"enable_autopilot":null,"enable_cilium_clusterwide_network_policy":false,"enable_fqdn_network_policy":false,"enable_k8s_beta_apis":[],"enable_kubernetes_alpha":false,"enable_l4_ilb_subsetting":false,"enable_legacy_abac":false,"enable_multi_networking":false,"enable_shielded_nodes":true,"enable_tpu":null,"fleet":[],"initial_node_count":null,"location":"asia-south1","maintenance_policy":[],"min_master_version":null,"name":"mock-gke-cluster","network_policy":[],"private_cluster_config":[],"remove_default_node_pool":null,"resource_labels":null,"resource_usage_export_config":[],"secret_manager_config":[],"terraform_labels":{"goog-terraform-provisioned":"true"},"timeouts":null,"user_managed_keys_config":[]},"sensitive_values":{"addons_config":[],"authenticator_groups_config":[],"binary_authorization":[],"cluster_autoscaling":[],"confidential_nodes":[],"control_plane_endpoints_config":[],"cost_management_config":[],"database_encryption":[],"default_snat_status":[],"dns_config":[],"effective_labels":{},"enable_k8s_beta_apis":[],"enterprise_config":[],"fleet":[],"gateway_api_config":[],"identity_service_config":[],"ip_allocation_policy":[],"logging_config":[],"maintenance_policy":[],"master_auth":[],"master_authorized_networks_config":[],"mesh_certificates":[],"monitoring_config":[],"network_policy":[],"node_config":[],"node_locations":[],"node_pool":[],"node_pool_auto_config":[],"node_pool_defaults":[],"notification_config":[],"private_cluster_config":[],"release_channel":[],"resource_usage_export_config":[],"secret_manager_config":[],"security_posture_config":[],"service_external_ips_config":[],"terraform_labels":{},"user_managed_keys_config":[],"vertical_pod_autoscaling":[],"workload_identity_config":[]}},{"address":"module.b-devops.google_container_cluster.gke_cluster","mode":"managed","type":"google_container_cluster","name":"gke_cluster","provider_name":"registry.terraform.io/hashicorp/google","schema_version":2,"values":{"allow_net_admin":null,"binary_authorization":[],"deletion_protection":true,"description":null,"dns_config":[],"effective_labels":{"goog-terraform-provisioned":"true"},"enable_autopilot":null,"enable_cilium_clusterwide_network_policy":false,"enable_fqdn_network_policy":false,"enable_k8s_beta_apis":[],"enable_kubernetes_alpha":false,"enable_l4_ilb_subsetting":false,"enable_legacy_abac":false,"enable_multi_networking":false,"enable_shielded_nodes":true,"enable_tpu":null,"fleet":[],"initial_node_count":2,"location":"us-central1","maintenance_policy":[],"min_master_version":null,"name":"gke-cluster","network_policy":[],"private_cluster_config":[],"remove_default_node_pool":null,"resource_labels":null,"resource_usage_export_config":[],"secret_manager_config":[],"terraform_labels":{"goog-terraform-provisioned":"true"},"timeouts":null,"user_managed_keys_config":[]},"sensitive_values":{"addons_config":[],"authenticator_groups_config":[],"binary_authorization":[],"cluster_autoscaling":[],"confidential_nodes":[],"control_plane_endpoints_config":[],"cost_management_config":[],"database_encryption":[],"default_snat_status":[],"dns_config":[],"effective_labels":{},"enable_k8s_beta_apis":[],"enterprise_config":[],"fleet":[],"gateway_api_config":[],"identity_service_config":[],"ip_allocation_policy":[],"logging_config":[],"maintenance_policy":[],"master_auth":[],"master_authorized_networks_config":[],"mesh_certificates":[],"monitoring_config":[],"network_policy":[],"node_config":[],"node_locations":[],"node_pool":[],"node_pool_auto_config":[],"node_pool_defaults":[],"notification_config":[],"private_cluster_config":[],"release_channel":[],"resource_usage_export_config":[],"secret_manager_config":[],"security_posture_config":[],"service_external_ips_config":[],"terraform_labels":{},"user_managed_keys_config":[],"vertical_pod_autoscaling":[],"workload_identity_config":[]}},{"address":"module.b-devops.kubernetes_deployment.flask_app","mode":"managed","type":"kubernetes_deployment","name":"flask_app","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"flask"},"name":"flask-app","namespace":"default"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"2","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"flask"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"flask"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[],"env_from":[],"image":"gcr.io/mock-project/flask-app:latest","lifecycle":[],"liveness_probe":[{"exec":[],"failure_threshold":3,"grpc":[],"http_get":[{"host":null,"http_header":[],"path":"/health","port":"5000","scheme":"HTTP"}],"initial_delay_seconds":5,"period_seconds":10,"success_threshold":1,"tcp_socket":[],"timeout_seconds":1}],"name":"flask","port":[{"container_port":5000,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[{"exec":[],"failure_threshold":3,"grpc":[],"http_get":[{"host":null,"http_header":[],"path":"/health","port":"5000","scheme":"HTTP"}],"initial_delay_seconds":5,"period_seconds":10,"success_threshold":1,"tcp_socket":[],"timeout_seconds":1}],"resources":[{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"250m","memory":"256Mi"}}],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_device":[],"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_values":{"metadata":[{"labels":{}}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"lifecycle":[],"liveness_probe":[{"exec":[],"grpc":[],"http_get":[{"http_header":[]}],"tcp_socket":[]}],"port":[{}],"readiness_probe":[{"exec":[],"grpc":[],"http_get":[{"http_header":[]}],"tcp_socket":[]}],"resources":[{"limits":{},"requests":{}}],"security_context":[],"startup_probe":[],"volume_device":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]}},{"address":"module.b-devops.kubernetes_deployment.nginx_ingress","mode":"managed","type":"kubernetes_deployment","name":"nginx_ingress","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"nginx-ingress","namespace":"default"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"2","revision_history_limit":10,"selector":[],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"nginx-ingress"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[],"env_from":[],"image":"nginx","lifecycle":[],"liveness_probe":[],"name":"nginx","port":[],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_device":[],"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_values":{"metadata":[{}],"spec":[{"selector":[],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_device":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]}},{"address":"module.b-devops.kubernetes_ingress.flask_ingress","mode":"managed","type":"kubernetes_ingress","name":"flask_ingress","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"flask-ingress","namespace":"default"}],"spec":[{"backend":[],"ingress_class_name":null,"rule":[{"host":"flask.example.com","http":[{"path":[{"backend":[{"service_name":"flask-app","service_port":"80"}],"path":"/"}]}]}],"tls":[]}],"wait_for_load_balancer":null},"sensitive_values":{"metadata":[{}],"spec":[{"backend":[],"rule":[{"http":[{"path":[{"backend":[{}]}]}]}],"tls":[]}],"status":[]}},{"address":"module.b-devops.kubernetes_service.flask_app_service","mode":"managed","type":"kubernetes_service","name":"flask_app_service","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"flask-app","namespace":"default"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":null,"port":80,"protocol":"TCP","target_port":"5000"}],"publish_not_ready_addresses":false,"selector":{"app":"flask"},"session_affinity":"None","type":"LoadBalancer"}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_values":{"metadata":[{}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{}],"selector":{},"session_affinity_config":[]}],"status":[]}}],"address":"module.b-devops"}]}},"resource_changes":[{"address":"module.a-infra.google_compute_backend_service.ext_lb_backend","module_address":"module.a-infra","mode":"managed","type":"google_compute_backend_service","name":"ext_lb_backend","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"affinity_cookie_ttl_sec":null,"backend":[{"balancing_mode":"UTILIZATION","capacity_scaler":1,"description":""}],"circuit_breakers":[],"compression_mode":null,"connection_draining_timeout_sec":300,"consistent_hash":[],"custom_request_headers":null,"custom_response_headers":null,"description":null,"edge_security_policy":null,"enable_cdn":null,"health_checks":null,"ip_address_selection_policy":null,"load_balancing_scheme":"EXTERNAL","locality_lb_policies":[],"locality_lb_policy":null,"name":"ext-lb-backend","outlier_detection":[],"port_name":"http","project":"mock-project","protocol":"HTTP","security_policy":null,"security_settings":[],"service_lb_policy":null,"strong_session_affinity_cookie":[],"timeout_sec":30,"timeouts":null},"after_unknown":{"backend":[{"group":true,"max_connections":true,"max_connections_per_endpoint":true,"max_connections_per_instance":true,"max_rate":true,"max_rate_per_endpoint":true,"max_rate_per_instance":true,"max_utilization":true}],"cdn_policy":true,"circuit_breakers":[],"consistent_hash":[],"creation_timestamp":true,"fingerprint":true,"generated_id":true,"iap":true,"id":true,"locality_lb_policies":[],"log_config":true,"outlier_detection":[],"security_settings":[],"self_link":true,"session_affinity":true,"strong_session_affinity_cookie":[]},"before_sensitive":false,"after_sensitive":{"backend":[{}],"cdn_policy":[],"circuit_breakers":[],"consistent_hash":[],"iap":[],"locality_lb_policies":[],"log_config":[],"outlier_detection":[],"security_settings":[],"strong_session_affinity_cookie":[]}}},{"address":"module.a-infra.google_compute_firewall.allow_external_lb","module_address":"module.a-infra","mode":"managed","type":"google_compute_firewall","name":"allow_external_lb","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"allow":[{"ports":["80","443"],"protocol":"tcp"}],"deny":[],"description":null,"disabled":null,"log_config":[],"name":"allow-external-lb","network":"vpc-external","priority":1000,"project":"mock-project","source_ranges":["0.0.0.0/0"],"source_service_accounts":null,"source_tags":null,"target_service_accounts":null,"target_tags":null,"timeouts":null},"after_unknown":{"allow":[{"ports":[false,false]}],"creation_timestamp":true,"deny":[],"destination_ranges":true,"direction":true,"enable_logging":true,"id":true,"log_config":[],"self_link":true,"source_ranges":[false]},"before_sensitive":false,"after_sensitive":{"allow":[{"ports":[false,false]}],"deny":[],"destination_ranges":[],"log_config":[],"source_ranges":[false]}}},{"address":"module.a-infra.google_compute_global_forwarding_rule.ext_lb_fwd_rule","module_address":"module.a-infra","mode":"managed","type":"google_compute_global_forwarding_rule","name":"ext_lb_fwd_rule","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"description":null,"ip_version":null,"labels":null,"load_balancing_scheme":"EXTERNAL","metadata_filters":[],"name":"ext-lb-fwd-rule","no_automate_dns_zone":null,"port_range":"80","project":"mock-project","source_ip_ranges":null,"timeouts":null},"after_unknown":{"base_forwarding_rule":true,"effective_labels":true,"forwarding_rule_id":true,"id":true,"ip_address":true,"ip_protocol":true,"label_fingerprint":true,"metadata_filters":[],"network":true,"network_tier":true,"psc_connection_id":true,"psc_connection_status":true,"self_link":true,"service_directory_registrations":true,"subnetwork":true,"target":true,"terraform_labels":true},"before_sensitive":false,"after_sensitive":{"effective_labels":{},"metadata_filters":[],"service_directory_registrations":[],"terraform_labels":{}}}},{"address":"module.a-infra.google_compute_network.vpc_external","module_address":"module.a-infra","mode":"managed","type":"google_compute_network","name":"vpc_external","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"auto_create_subnetworks":false,"delete_default_routes_on_create":false,"description":null,"enable_ula_internal_ipv6":null,"name":"vpc-external","network_firewall_policy_enforcement_order":"AFTER_CLASSIC_FIREWALL","network_profile":null,"project":"mock-project","timeouts":null},"after_unknown":{"bgp_always_compare_med":true,"bgp_best_path_selection_mode":true,"bgp_inter_region_cost":true,"gateway_ipv4":true,"id":true,"internal_ipv6_range":true,"mtu":true,"network_id":true,"numeric_id":true,"routing_mode":true,"self_link":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.a-infra.google_compute_network.vpc_internal","module_address":"module.a-infra","mode":"managed","type":"google_compute_network","name":"vpc_internal","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"auto_create_subnetworks":false,"delete_default_routes_on_create":false,"description":null,"enable_ula_internal_ipv6":null,"name":"vpc-internal","network_firewall_policy_enforcement_order":"AFTER_CLASSIC_FIREWALL","network_profile":null,"project":"mock-project","timeouts":null},"after_unknown":{"bgp_always_compare_med":true,"bgp_best_path_selection_mode":true,"bgp_inter_region_cost":true,"gateway_ipv4":true,"id":true,"internal_ipv6_range":true,"mtu":true,"network_id":true,"numeric_id":true,"routing_mode":true,"self_link":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.a-infra.google_compute_security_policy.cloud_armor_policy","module_address":"module.a-infra","mode":"managed","type":"google_compute_security_policy","name":"cloud_armor_policy","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"adaptive_protection_config":[],"description":null,"name":"cloud-armor-policy","project":"mock-project","recaptcha_options_config":[],"timeouts":null},"after_unknown":{"adaptive_protection_config":[],"advanced_options_config":true,"fingerprint":true,"id":true,"recaptcha_options_config":[],"rule":true,"self_link":true,"type":true},"before_sensitive":false,"after_sensitive":{"adaptive_protection_config":[],"advanced_options_config":[],"recaptcha_options_config":[],"rule":[]}}},{"address":"module.a-infra.google_compute_target_http_proxy.ext_lb_proxy","module_address":"module.a-infra","mode":"managed","type":"google_compute_target_http_proxy","name":"ext_lb_proxy","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"description":null,"http_keep_alive_timeout_sec":null,"name":"ext-lb-proxy","project":"mock-project","timeouts":null},"after_unknown":{"creation_timestamp":true,"id":true,"proxy_bind":true,"proxy_id":true,"self_link":true,"url_map":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.a-infra.google_compute_url_map.ext_lb_map","module_address":"module.a-infra","mode":"managed","type":"google_compute_url_map","name":"ext_lb_map","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"default_route_action":[],"default_url_redirect":[],"description":null,"header_action":[],"host_rule":[],"name":"ext-lb-map","path_matcher":[],"project":"mock-project","test":[],"timeouts":null},"after_unknown":{"creation_timestamp":true,"default_route_action":[],"default_service":true,"default_url_redirect":[],"fingerprint":true,"header_action":[],"host_rule":[],"id":true,"map_id":true,"path_matcher":[],"self_link":true,"test":[]},"before_sensitive":false,"after_sensitive":{"default_route_action":[],"default_url_redirect":[],"header_action":[],"host_rule":[],"path_matcher":[],"test":[]}}},{"address":"module.a-infra.google_container_cluster.gke_cluster","module_address":"module.a-infra","mode":"managed","type":"google_container_cluster","name":"gke_cluster","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"allow_net_admin":null,"binary_authorization":[],"deletion_protection":true,"description":null,"dns_config":[],"effective_labels":{"goog-terraform-provisioned":"true"},"enable_autopilot":null,"enable_cilium_clusterwide_network_policy":false,"enable_fqdn_network_policy":false,"enable_k8s_beta_apis":[],"enable_kubernetes_alpha":false,"enable_l4_ilb_subsetting":false,"enable_legacy_abac":false,"enable_multi_networking":false,"enable_shielded_nodes":true,"enable_tpu":null,"fleet":[],"initial_node_count":null,"location":"asia-south1","maintenance_policy":[],"min_master_version":null,"name":"mock-cluster","network_policy":[],"private_cluster_config":[],"project":"mock-project","remove_default_node_pool":null,"resource_labels":null,"resource_usage_export_config":[],"secret_manager_config":[],"terraform_labels":{"goog-terraform-provisioned":"true"},"timeouts":null,"user_managed_keys_config":[]},"after_unknown":{"addons_config":true,"authenticator_groups_config":true,"binary_authorization":[],"cluster_autoscaling":true,"cluster_ipv4_cidr":true,"confidential_nodes":true,"control_plane_endpoints_config":true,"cost_management_config":true,"database_encryption":true,"datapath_provider":true,"default_max_pods_per_node":true,"default_snat_status":true,"dns_config":[],"effective_labels":{},"enable_intranode_visibility":true,"enable_k8s_beta_apis":[],"endpoint":true,"enterprise_config":true,"fleet":[],"gateway_api_config":true,"id":true,"identity_service_config":true,"ip_allocation_policy":true,"label_fingerprint":true,"logging_config":true,"logging_service":true,"maintenance_policy":[],"master_auth":true,"master_authorized_networks_config":true,"master_version":true,"mesh_certificates":true,"monitoring_config":true,"monitoring_service":true,"network":true,"network_policy":[],"networking_mode":true,"node_config":true,"node_locations":true,"node_pool":true,"node_pool_auto_config":true,"node_pool_defaults":true,"node_version":true,"notification_config":true,"operation":true,"private_cluster_config":[],"private_ipv6_google_access":true,"release_channel":true,"resource_usage_export_config":[],"secret_manager_config":[],"security_posture_config":true,"self_link":true,"service_external_ips_config":true,"services_ipv4_cidr":true,"subnetwork":true,"terraform_labels":{},"tpu_ipv4_cidr_block":true,"user_managed_keys_config":[],"vertical_pod_autoscaling":true,"workload_identity_config":true},"before_sensitive":false,"after_sensitive":{"addons_config":[],"authenticator_groups_config":[],"binary_authorization":[],"cluster_autoscaling":[],"confidential_nodes":[],"control_plane_endpoints_config":[],"cost_management_config":[],"database_encryption":[],"default_snat_status":[],"dns_config":[],"effective_labels":{},"enable_k8s_beta_apis":[],"enterprise_config":[],"fleet":[],"gateway_api_config":[],"identity_service_config":[],"ip_allocation_policy":[],"logging_config":[],"maintenance_policy":[],"master_auth":[],"master_authorized_networks_config":[],"mesh_certificates":[],"monitoring_config":[],"network_policy":[],"node_config":[],"node_locations":[],"node_pool":[],"node_pool_auto_config":[],"node_pool_defaults":[],"notification_config":[],"private_cluster_config":[],"release_channel":[],"resource_usage_export_config":[],"secret_manager_config":[],"security_posture_config":[],"service_external_ips_config":[],"terraform_labels":{},"user_managed_keys_config":[],"vertical_pod_autoscaling":[],"workload_identity_config":[]}}},{"address":"module.a-infra.google_container_node_pool.gke_nodes","module_address":"module.a-infra","mode":"managed","type":"google_container_node_pool","name":"gke_nodes","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"autoscaling":[],"node_config":[{"advanced_machine_features":[],"boot_disk_kms_key":null,"containerd_config":[],"enable_confidential_storage":null,"ephemeral_storage_local_ssd_config":[],"fast_socket":[],"gvnic":[],"host_maintenance_policy":[],"linux_node_config":[],"local_nvme_ssd_block_config":[],"local_ssd_encryption_mode":null,"machine_type":"e2-medium","max_run_duration":null,"node_group":null,"oauth_scopes":["https://www.googleapis.com/auth/cloud-platform"],"preemptible":false,"reservation_affinity":[],"resource_labels":null,"resource_manager_tags":null,"secondary_boot_disks":[],"sole_tenant_config":[],"spot":false,"storage_pools":null,"tags":null,"taint":[]}],"node_count":1,"placement_policy":[],"project":"mock-project","queued_provisioning":[],"timeouts":null},"after_unknown":{"autoscaling":[],"cluster":true,"id":true,"initial_node_count":true,"instance_group_urls":true,"location":true,"managed_instance_group_urls":true,"management":true,"max_pods_per_node":true,"name":true,"name_prefix":true,"network_config":true,"node_config":[{"advanced_machine_features":[],"confidential_nodes":true,"containerd_config":[],"disk_size_gb":true,"disk_type":true,"effective_taints":true,"ephemeral_storage_local_ssd_config":[],"fast_socket":[],"gcfs_config":true,"guest_accelerator":true,"gvnic":[],"host_maintenance_policy":[],"image_type":true,"kubelet_config":true,"labels":true,"linux_node_config":[],"local_nvme_ssd_block_config":[],"local_ssd_count":true,"logging_variant":true,"metadata":true,"min_cpu_platform":true,"oauth_scopes":[false],"reservation_affinity":[],"secondary_boot_disks":[],"service_account":true,"shielded_instance_config":true,"sole_tenant_config":[],"taint":[],"workload_metadata_config":true}],"node_locations":true,"operation":true,"placement_policy":[],"queued_provisioning":[],"upgrade_settings":true,"version":true},"before_sensitive":false,"after_sensitive":{"autoscaling":[],"instance_group_urls":[],"managed_instance_group_urls":[],"management":[],"network_config":[],"node_config":[{"advanced_machine_features":[],"confidential_nodes":[],"containerd_config":[],"effective_taints":[],"ephemeral_storage_local_ssd_config":[],"fast_socket":[],"gcfs_config":[],"guest_accelerator":[],"gvnic":[],"host_maintenance_policy":[],"kubelet_config":[],"labels":{},"linux_node_config":[],"local_nvme_ssd_block_config":[],"metadata":{},"oauth_scopes":[false],"reservation_affinity":[],"secondary_boot_disks":[],"shielded_instance_config":[],"sole_tenant_config":[],"taint":[],"workload_metadata_config":[]}],"node_locations":[],"placement_policy":[],"queued_provisioning":[],"upgrade_settings":[]}}},{"address":"module.a-infra.google_storage_bucket_iam_member.terraform_state_viewer","module_address":"module.a-infra","mode":"managed","type":"google_storage_bucket_iam_member","name":"terraform_state_viewer","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"bucket":"mock-tf-state-bucket","condition":[],"member":"serviceAccount:mock-sa@mock-project.iam.gserviceaccount.com","role":"roles/storage.objectViewer"},"after_unknown":{"condition":[],"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{"condition":[]}}},{"address":"module.a-infra.null_resource.mock_gke_nodes","module_address":"module.a-infra","mode":"managed","type":"null_resource","name":"mock_gke_nodes","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.a-infra.null_resource.mock_iam","module_address":"module.a-infra","mode":"managed","type":"null_resource","name":"mock_iam","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.a-infra.null_resource.mock_network","module_address":"module.a-infra","mode":"managed","type":"null_resource","name":"mock_network","provider_name":"registry.terraform.io/hashicorp/null","change":{"actions":["create"],"before":null,"after":{"triggers":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.b-devops.google_compute_network.vpc_internal","module_address":"module.b-devops","mode":"managed","type":"google_compute_network","name":"vpc_internal","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"auto_create_subnetworks":true,"delete_default_routes_on_create":false,"description":null,"enable_ula_internal_ipv6":null,"name":"vpc-internal","network_firewall_policy_enforcement_order":"AFTER_CLASSIC_FIREWALL","network_profile":null,"project":"mock-project","timeouts":null},"after_unknown":{"bgp_always_compare_med":true,"bgp_best_path_selection_mode":true,"bgp_inter_region_cost":true,"gateway_ipv4":true,"id":true,"internal_ipv6_range":true,"mtu":true,"network_id":true,"numeric_id":true,"routing_mode":true,"self_link":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.b-devops.google_container_cluster.gke","module_address":"module.b-devops","mode":"managed","type":"google_container_cluster","name":"gke","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"allow_net_admin":null,"binary_authorization":[],"deletion_protection":true,"description":null,"dns_config":[],"effective_labels":{"goog-terraform-provisioned":"true"},"enable_autopilot":null,"enable_cilium_clusterwide_network_policy":false,"enable_fqdn_network_policy":false,"enable_k8s_beta_apis":[],"enable_kubernetes_alpha":false,"enable_l4_ilb_subsetting":false,"enable_legacy_abac":false,"enable_multi_networking":false,"enable_shielded_nodes":true,"enable_tpu":null,"fleet":[],"initial_node_count":null,"location":"asia-south1","maintenance_policy":[],"min_master_version":null,"name":"mock-gke-cluster","network_policy":[],"private_cluster_config":[],"remove_default_node_pool":null,"resource_labels":null,"resource_usage_export_config":[],"secret_manager_config":[],"terraform_labels":{"goog-terraform-provisioned":"true"},"timeouts":null,"user_managed_keys_config":[]},"after_unknown":{"addons_config":true,"authenticator_groups_config":true,"binary_authorization":[],"cluster_autoscaling":true,"cluster_ipv4_cidr":true,"confidential_nodes":true,"control_plane_endpoints_config":true,"cost_management_config":true,"database_encryption":true,"datapath_provider":true,"default_max_pods_per_node":true,"default_snat_status":true,"dns_config":[],"effective_labels":{},"enable_intranode_visibility":true,"enable_k8s_beta_apis":[],"endpoint":true,"enterprise_config":true,"fleet":[],"gateway_api_config":true,"id":true,"identity_service_config":true,"ip_allocation_policy":true,"label_fingerprint":true,"logging_config":true,"logging_service":true,"maintenance_policy":[],"master_auth":true,"master_authorized_networks_config":true,"master_version":true,"mesh_certificates":true,"monitoring_config":true,"monitoring_service":true,"network":true,"network_policy":[],"networking_mode":true,"node_config":true,"node_locations":true,"node_pool":true,"node_pool_auto_config":true,"node_pool_defaults":true,"node_version":true,"notification_config":true,"operation":true,"private_cluster_config":[],"private_ipv6_google_access":true,"project":true,"release_channel":true,"resource_usage_export_config":[],"secret_manager_config":[],"security_posture_config":true,"self_link":true,"service_external_ips_config":true,"services_ipv4_cidr":true,"subnetwork":true,"terraform_labels":{},"tpu_ipv4_cidr_block":true,"user_managed_keys_config":[],"vertical_pod_autoscaling":true,"workload_identity_config":true},"before_sensitive":false,"after_sensitive":{"addons_config":[],"authenticator_groups_config":[],"binary_authorization":[],"cluster_autoscaling":[],"confidential_nodes":[],"control_plane_endpoints_config":[],"cost_management_config":[],"database_encryption":[],"default_snat_status":[],"dns_config":[],"effective_labels":{},"enable_k8s_beta_apis":[],"enterprise_config":[],"fleet":[],"gateway_api_config":[],"identity_service_config":[],"ip_allocation_policy":[],"logging_config":[],"maintenance_policy":[],"master_auth":[],"master_authorized_networks_config":[],"mesh_certificates":[],"monitoring_config":[],"network_policy":[],"node_config":[],"node_locations":[],"node_pool":[],"node_pool_auto_config":[],"node_pool_defaults":[],"notification_config":[],"private_cluster_config":[],"release_channel":[],"resource_usage_export_config":[],"secret_manager_config":[],"security_posture_config":[],"service_external_ips_config":[],"terraform_labels":{},"user_managed_keys_config":[],"vertical_pod_autoscaling":[],"workload_identity_config":[]}}},{"address":"module.b-devops.google_container_cluster.gke_cluster","module_address":"module.b-devops","mode":"managed","type":"google_container_cluster","name":"gke_cluster","provider_name":"registry.terraform.io/hashicorp/google","change":{"actions":["create"],"before":null,"after":{"allow_net_admin":null,"binary_authorization":[],"deletion_protection":true,"description":null,"dns_config":[],"effective_labels":{"goog-terraform-provisioned":"true"},"enable_autopilot":null,"enable_cilium_clusterwide_network_policy":false,"enable_fqdn_network_policy":false,"enable_k8s_beta_apis":[],"enable_kubernetes_alpha":false,"enable_l4_ilb_subsetting":false,"enable_legacy_abac":false,"enable_multi_networking":false,"enable_shielded_nodes":true,"enable_tpu":null,"fleet":[],"initial_node_count":2,"location":"us-central1","maintenance_policy":[],"min_master_version":null,"name":"gke-cluster","network_policy":[],"private_cluster_config":[],"remove_default_node_pool":null,"resource_labels":null,"resource_usage_export_config":[],"secret_manager_config":[],"terraform_labels":{"goog-terraform-provisioned":"true"},"timeouts":null,"user_managed_keys_config":[]},"after_unknown":{"addons_config":true,"authenticator_groups_config":true,"binary_authorization":[],"cluster_autoscaling":true,"cluster_ipv4_cidr":true,"confidential_nodes":true,"control_plane_endpoints_config":true,"cost_management_config":true,"database_encryption":true,"datapath_provider":true,"default_max_pods_per_node":true,"default_snat_status":true,"dns_config":[],"effective_labels":{},"enable_intranode_visibility":true,"enable_k8s_beta_apis":[],"endpoint":true,"enterprise_config":true,"fleet":[],"gateway_api_config":true,"id":true,"identity_service_config":true,"ip_allocation_policy":true,"label_fingerprint":true,"logging_config":true,"logging_service":true,"maintenance_policy":[],"master_auth":true,"master_authorized_networks_config":true,"master_version":true,"mesh_certificates":true,"monitoring_config":true,"monitoring_service":true,"network":true,"network_policy":[],"networking_mode":true,"node_config":true,"node_locations":true,"node_pool":true,"node_pool_auto_config":true,"node_pool_defaults":true,"node_version":true,"notification_config":true,"operation":true,"private_cluster_config":[],"private_ipv6_google_access":true,"project":true,"release_channel":true,"resource_usage_export_config":[],"secret_manager_config":[],"security_posture_config":true,"self_link":true,"service_external_ips_config":true,"services_ipv4_cidr":true,"subnetwork":true,"terraform_labels":{},"tpu_ipv4_cidr_block":true,"user_managed_keys_config":[],"vertical_pod_autoscaling":true,"workload_identity_config":true},"before_sensitive":false,"after_sensitive":{"addons_config":[],"authenticator_groups_config":[],"binary_authorization":[],"cluster_autoscaling":[],"confidential_nodes":[],"control_plane_endpoints_config":[],"cost_management_config":[],"database_encryption":[],"default_snat_status":[],"dns_config":[],"effective_labels":{},"enable_k8s_beta_apis":[],"enterprise_config":[],"fleet":[],"gateway_api_config":[],"identity_service_config":[],"ip_allocation_policy":[],"logging_config":[],"maintenance_policy":[],"master_auth":[],"master_authorized_networks_config":[],"mesh_certificates":[],"monitoring_config":[],"network_policy":[],"node_config":[],"node_locations":[],"node_pool":[],"node_pool_auto_config":[],"node_pool_defaults":[],"notification_config":[],"private_cluster_config":[],"release_channel":[],"resource_usage_export_config":[],"secret_manager_config":[],"security_posture_config":[],"service_external_ips_config":[],"terraform_labels":{},"user_managed_keys_config":[],"vertical_pod_autoscaling":[],"workload_identity_config":[]}}},{"address":"module.b-devops.kubernetes_deployment.flask_app","module_address":"module.b-devops","mode":"managed","type":"kubernetes_deployment","name":"flask_app","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"flask"},"name":"flask-app","namespace":"default"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"2","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"flask"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"flask"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[],"env_from":[],"image":"gcr.io/mock-project/flask-app:latest","lifecycle":[],"liveness_probe":[{"exec":[],"failure_threshold":3,"grpc":[],"http_get":[{"host":null,"http_header":[],"path":"/health","port":"5000","scheme":"HTTP"}],"initial_delay_seconds":5,"period_seconds":10,"success_threshold":1,"tcp_socket":[],"timeout_seconds":1}],"name":"flask","port":[{"container_port":5000,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[{"exec":[],"failure_threshold":3,"grpc":[],"http_get":[{"host":null,"http_header":[],"path":"/health","port":"5000","scheme":"HTTP"}],"initial_delay_seconds":5,"period_seconds":10,"success_threshold":1,"tcp_socket":[],"timeout_seconds":1}],"resources":[{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"250m","memory":"256Mi"}}],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_device":[],"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"labels":{},"resource_version":true,"uid":true}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":true,"template":[{"metadata":[{"generation":true,"labels":{},"name":true,"resource_version":true,"uid":true}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"image_pull_policy":true,"lifecycle":[],"liveness_probe":[{"exec":[],"grpc":[],"http_get":[{"http_header":[]}],"tcp_socket":[]}],"port":[{}],"readiness_probe":[{"exec":[],"grpc":[],"http_get":[{"http_header":[]}],"tcp_socket":[]}],"resources":[{"limits":{},"requests":{}}],"security_context":[],"startup_probe":[],"termination_message_policy":true,"volume_device":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"hostname":true,"image_pull_secrets":true,"init_container":[],"node_name":true,"os":[],"readiness_gate":true,"scheduler_name":true,"security_context":[],"service_account_name":true,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]},"before_sensitive":false,"after_sensitive":{"metadata":[{"labels":{}}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"lifecycle":[],"liveness_probe":[{"exec":[],"grpc":[],"http_get":[{"http_header":[]}],"tcp_socket":[]}],"port":[{}],"readiness_probe":[{"exec":[],"grpc":[],"http_get":[{"http_header":[]}],"tcp_socket":[]}],"resources":[{"limits":{},"requests":{}}],"security_context":[],"startup_probe":[],"volume_device":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]}}},{"address":"module.b-devops.kubernetes_deployment.nginx_ingress","module_address":"module.b-devops","mode":"managed","type":"kubernetes_deployment","name":"nginx_ingress","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"nginx-ingress","namespace":"default"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"2","revision_history_limit":10,"selector":[],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"nginx-ingress"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[],"env_from":[],"image":"nginx","lifecycle":[],"liveness_probe":[],"name":"nginx","port":[],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_device":[],"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"selector":[],"strategy":true,"template":[{"metadata":[{"generation":true,"labels":{},"name":true,"resource_version":true,"uid":true}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"image_pull_policy":true,"lifecycle":[],"liveness_probe":[],"port":[],"readiness_probe":[],"resources":true,"security_context":[],"startup_probe":[],"termination_message_policy":true,"volume_device":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"hostname":true,"image_pull_secrets":true,"init_container":[],"node_name":true,"os":[],"readiness_gate":true,"scheduler_name":true,"security_context":[],"service_account_name":true,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"selector":[],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_device":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]}}},{"address":"module.b-devops.kubernetes_ingress.flask_ingress","module_address":"module.b-devops","mode":"managed","type":"kubernetes_ingress","name":"flask_ingress","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"flask-ingress","namespace":"default"}],"spec":[{"backend":[],"ingress_class_name":null,"rule":[{"host":"flask.example.com","http":[{"path":[{"backend":[{"service_name":"flask-app","service_port":"80"}],"path":"/"}]}]}],"tls":[]}],"wait_for_load_balancer":null},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"backend":[],"rule":[{"http":[{"path":[{"backend":[{}]}]}]}],"tls":[]}],"status":true},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"backend":[],"rule":[{"http":[{"path":[{"backend":[{}]}]}]}],"tls":[]}],"status":[]}}},{"address":"module.b-devops.kubernetes_service.flask_app_service","module_address":"module.b-devops","mode":"managed","type":"kubernetes_service","name":"flask_app_service","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"flask-app","namespace":"default"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":null,"port":80,"protocol":"TCP","target_port":"5000"}],"publish_not_ready_addresses":false,"selector":{"app":"flask"},"session_affinity":"None","type":"LoadBalancer"}],"timeouts":null,"wait_for_load_balancer":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"cluster_ip":true,"cluster_ips":true,"external_traffic_policy":true,"health_check_node_port":true,"internal_traffic_policy":true,"ip_families":true,"ip_family_policy":true,"port":[{"node_port":true}],"selector":{},"session_affinity_config":true}],"status":true},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{}],"selector":{},"session_affinity_config":[]}],"status":[]}}}],"configuration":{"provider_config":{"google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","expressions":{"credentials":{},"project":{"references":["var.project_id"]},"region":{"references":["var.region"]}}},"module.a-infra:null":{"name":"null","full_name":"registry.terraform.io/hashicorp/null","module_address":"module.a-infra"},"module.b-devops:kubernetes":{"name":"kubernetes","full_name":"registry.terraform.io/hashicorp/kubernetes","module_address":"module.b-devops"}},"root_module":{"module_calls":{"a-infra":{"source":"./modules/a-infra","expressions":{"cloud_armor_rules":{"references":["var.cloud_armor_rules"]},"environment":{"references":["var.environment"]},"psc_service":{"references":["var.psc_service"]},"subnet_cidr":{"references":["var.subnet_cidr"]},"terraform_backend_bucket":{"references":["var.terraform_backend_bucket"]},"terraform_backend_prefix":{"references":["var.terraform_backend_prefix"]},"vpc_name":{"references":["var.vpc_name"]}},"module":{"outputs":{"cloud_armor_policy":{"expression":{"constant_value":"mock-cloud-armor"}},"subnet_id":{"expression":{"constant_value":"mock-subnet-id"}},"vpc_id":{"expression":{"constant_value":"mock-vpc-id"}}},"resources":[{"address":"google_compute_backend_service.ext_lb_backend","mode":"managed","type":"google_compute_backend_service","name":"ext_lb_backend","provider_config_key":"google","expressions":{"backend":[{"group":{"references":["google_container_node_pool.gke_nodes.instance_group_urls[0]","google_container_node_pool.gke_nodes.instance_group_urls","google_container_node_pool.gke_nodes"]}}],"load_balancing_scheme":{"constant_value":"EXTERNAL"},"name":{"constant_value":"ext-lb-backend"},"port_name":{"constant_value":"http"},"project":{"references":["var.project_id"]},"protocol":{"constant_value":"HTTP"},"timeout_sec":{"constant_value":30}},"schema_version":1},{"address":"google_compute_firewall.allow_external_lb","mode":"managed","type":"google_compute_firewall","name":"allow_external_lb","provider_config_key":"google","expressions":{"allow":[{"ports":{"constant_value":["80","443"]},"protocol":{"constant_value":"tcp"}}],"name":{"constant_value":"allow-external-lb"},"network":{"references":["google_compute_network.vpc_external.name","google_compute_network.vpc_external"]},"project":{"references":["var.project_id"]},"source_ranges":{"constant_value":["0.0.0.0/0"]}},"schema_version":1},{"address":"google_compute_global_forwarding_rule.ext_lb_fwd_rule","mode":"managed","type":"google_compute_global_forwarding_rule","name":"ext_lb_fwd_rule","provider_config_key":"google","expressions":{"name":{"constant_value":"ext-lb-fwd-rule"},"port_range":{"constant_value":"80"},"project":{"references":["var.project_id"]},"target":{"references":["google_compute_target_http_proxy.ext_lb_proxy.id","google_compute_target_http_proxy.ext_lb_proxy"]}},"schema_version":0},{"address":"google_compute_network.vpc_external","mode":"managed","type":"google_compute_network","name":"vpc_external","provider_config_key":"google","expressions":{"auto_create_subnetworks":{"constant_value":false},"name":{"constant_value":"vpc-external"},"project":{"references":["var.project_id"]}},"schema_version":0},{"address":"google_compute_network.vpc_internal","mode":"managed","type":"google_compute_network","name":"vpc_internal","provider_config_key":"google","expressions":{"auto_create_subnetworks":{"constant_value":false},"name":{"constant_value":"vpc-internal"},"project":{"references":["var.project_id"]}},"schema_version":0},{"address":"google_compute_security_policy.cloud_armor_policy","mode":"managed","type":"google_compute_security_policy","name":"cloud_armor_policy","provider_config_key":"google","expressions":{"name":{"constant_value":"cloud-armor-policy"},"project":{"references":["var.project_id"]}},"schema_version":0},{"address":"google_compute_target_http_proxy.ext_lb_proxy","mode":"managed","type":"google_compute_target_http_proxy","name":"ext_lb_proxy","provider_config_key":"google","expressions":{"name":{"constant_value":"ext-lb-proxy"},"project":{"references":["var.project_id"]},"url_map":{"references":["google_compute_url_map.ext_lb_map.id","google_compute_url_map.ext_lb_map"]}},"schema_version":0},{"address":"google_compute_url_map.ext_lb_map","mode":"managed","type":"google_compute_url_map","name":"ext_lb_map","provider_config_key":"google","expressions":{"default_service":{"references":["google_compute_backend_service.ext_lb_backend.id","google_compute_backend_service.ext_lb_backend"]},"name":{"constant_value":"ext-lb-map"},"project":{"references":["var.project_id"]}},"schema_version":0},{"address":"google_container_cluster.gke_cluster","mode":"managed","type":"google_container_cluster","name":"gke_cluster","provider_config_key":"google","expressions":{"location":{"constant_value":"asia-south1"},"name":{"constant_value":"mock-cluster"},"network":{"references":["google_compute_network.vpc_internal.id","google_compute_network.vpc_internal"]},"project":{"references":["var.project_id"]}},"schema_version":2},{"address":"google_container_node_pool.gke_nodes","mode":"managed","type":"google_container_node_pool","name":"gke_nodes","provider_config_key":"google","expressions":{"cluster":{"references":["google_container_cluster.gke_cluster.id","google_container_cluster.gke_cluster"]},"node_config":[{"machine_type":{"constant_value":"e2-medium"},"oauth_scopes":{"constant_value":["https://www.googleapis.com/auth/cloud-platform"]}}],"node_count":{"constant_value":1},"project":{"references":["var.project_id"]}},"schema_version":1},{"address":"google_storage_bucket_iam_member.terraform_state_viewer","mode":"managed","type":"google_storage_bucket_iam_member","name":"terraform_state_viewer","provider_config_key":"google","expressions":{"bucket":{"constant_value":"mock-tf-state-bucket"},"member":{"constant_value":"serviceAccount:mock-sa@mock-project.iam.gserviceaccount.com"},"role":{"constant_value":"roles/storage.objectViewer"}},"schema_version":0},{"address":"null_resource.mock_gke_nodes","mode":"managed","type":"null_resource","name":"mock_gke_nodes","provider_config_key":"module.a-infra:null","provisioners":[{"type":"local-exec","expressions":{"command":{"constant_value":"echo 'Mock GKE Nodes'"}}}],"schema_version":0},{"address":"null_resource.mock_iam","mode":"managed","type":"null_resource","name":"mock_iam","provider_config_key":"module.a-infra:null","provisioners":[{"type":"local-exec","expressions":{"command":{"constant_value":"echo 'Mock IAM Member'"}}}],"schema_version":0},{"address":"null_resource.mock_network","mode":"managed","type":"null_resource","name":"mock_network","provider_config_key":"module.a-infra:null","provisioners":[{"type":"local-exec","expressions":{"command":{"constant_value":"echo 'Mock VPC'"}}}],"schema_version":0}],"variables":{"cloud_armor_rules":{"description":"List of Cloud Armor security rules"},"environment":{"description":"Deployment environment"},"project_id":{"default":"mock-project"},"psc_service":{"description":"Private Service Connect endpoint"},"service_account_email":{"default":"mock-sa@mock-project.iam.gserviceaccount.com"},"subnet_cidr":{"description":"CIDR block for the subnet"},"terraform_backend_bucket":{"description":"Google Cloud Storage bucket for Terraform state"},"terraform_backend_prefix":{"description":"Prefix for Terraform state storage"},"vpc_name":{"description":"Name of the VPC network"}}}},"argo":{"source":"./modules/argo","module":{}},"b-devops":{"source":"./modules/b-devops","expressions":{"app_image":{"references":["var.app_image"]},"gke_cluster_name":{"references":["var.gke_cluster_name"]},"ingress_controller":{"references":["var.ingress_controller"]}},"module":{"outputs":{"app_service_url":{"expression":{"constant_value":"mock-app-url"},"description":"Public URL for the deployed application"},"gke_cluster_id":{"expression":{"references":["google_container_cluster.gke.id","google_container_cluster.gke"]},"description":"ID of the created GKE cluster"},"ingress_controller_endpoint":{"expression":{"constant_value":"mock-ingress-endpoint"},"description":"Ingress controller external endpoint"}},"resources":[{"address":"google_compute_network.vpc_internal","mode":"managed","type":"google_compute_network","name":"vpc_internal","provider_config_key":"google","expressions":{"auto_create_subnetworks":{"constant_value":true},"name":{"constant_value":"vpc-internal"},"project":{"references":["var.project_id"]}},"schema_version":0},{"address":"google_container_cluster.gke","mode":"managed","type":"google_container_cluster","name":"gke","provider_config_key":"google","expressions":{"location":{"constant_value":"asia-south1"},"name":{"constant_value":"mock-gke-cluster"},"network":{"references":["google_compute_network.vpc_internal.id","google_compute_network.vpc_internal"]}},"schema_version":2},{"address":"google_container_cluster.gke_cluster","mode":"managed","type":"google_container_cluster","name":"gke_cluster","provider_config_key":"google","expressions":{"initial_node_count":{"constant_value":2},"location":{"references":["var.region"]},"name":{"constant_value":"gke-cluster"},"network":{"references":["google_compute_network.vpc_internal.id","google_compute_network.vpc_internal"]}},"schema_version":2},{"address":"kubernetes_deployment.flask_app","mode":"managed","type":"kubernetes_deployment","name":"flask_app","provider_config_key":"module.b-devops:kubernetes","expressions":{"metadata":[{"labels":{"constant_value":{"app":"flask"}},"name":{"constant_value":"flask-app"}}],"spec":[{"replicas":{"constant_value":2},"selector":[{"match_labels":{"constant_value":{"app":"flask"}}}],"template":[{"metadata":[{"labels":{"constant_value":{"app":"flask"}}}],"spec":[{"container":[{"image":{"references":["var.project_id"]},"liveness_probe":[{"http_get":[{"path":{"constant_value":"/health"},"port":{"constant_value":5000}}],"initial_delay_seconds":{"constant_value":5},"period_seconds":{"constant_value":10}}],"name":{"constant_value":"flask"},"port":[{"container_port":{"constant_value":5000}}],"readiness_probe":[{"http_get":[{"path":{"constant_value":"/health"},"port":{"constant_value":5000}}],"initial_delay_seconds":{"constant_value":5},"period_seconds":{"constant_value":10}}],"resources":[{"limits":{"constant_value":{"cpu":"500m","memory":"512Mi"}},"requests":{"constant_value":{"cpu":"250m","memory":"256Mi"}}}]}]}]}]}]},"schema_version":1},{"address":"kubernetes_deployment.nginx_ingress","mode":"managed","type":"kubernetes_deployment","name":"nginx_ingress","provider_config_key":"module.b-devops:kubernetes","expressions":{"metadata":[{"name":{"constant_value":"nginx-ingress"}}],"spec":[{"replicas":{"constant_value":2},"template":[{"metadata":[{"labels":{"constant_value":{"app":"nginx-ingress"}}}],"spec":[{"container":[{"image":{"constant_value":"nginx"},"name":{"constant_value":"nginx"}}]}]}]}]},"schema_version":1},{"address":"kubernetes_ingress.flask_ingress","mode":"managed","type":"kubernetes_ingress","name":"flask_ingress","provider_config_key":"module.b-devops:kubernetes","expressions":{"metadata":[{"name":{"constant_value":"flask-ingress"}}],"spec":[{"rule":[{"host":{"constant_value":"flask.example.com"},"http":[{"path":[{"backend":[{"service_name":{"references":["kubernetes_service.flask_app_service.metadata[0].name","kubernetes_service.flask_app_service.metadata[0]","kubernetes_service.flask_app_service.metadata","kubernetes_service.flask_app_service"]},"service_port":{"constant_value":80}}],"path":{"constant_value":"/"}}]}]}]}]},"schema_version":1},{"address":"kubernetes_service.flask_app_service","mode":"managed","type":"kubernetes_service","name":"flask_app_service","provider_config_key":"module.b-devops:kubernetes","expressions":{"metadata":[{"name":{"constant_value":"flask-app"}}],"spec":[{"port":[{"port":{"constant_value":80},"protocol":{"constant_value":"TCP"},"target_port":{"constant_value":5000}}],"selector":{"constant_value":{"app":"flask"}},"type":{"constant_value":"LoadBalancer"}}]},"schema_version":1}],"variables":{"app_image":{"description":"Container image for the application"},"gke_cluster_name":{"description":"Name of the GKE cluster"},"ingress_controller":{"description":"Ingress controller type"},"project_id":{"default":"mock-project"},"region":{"default":"us-central1"}}}}},"variables":{"app_image":{"default":"nginx:latest"},"cloud_armor_rules":{"default":["allow-all"]},"environment":{"default":"dev"},"gke_cluster_name":{"default":"default-cluster"},"ingress_controller":{"default":"nginx"},"project_id":{"default":"mock-project"},"psc_service":{"default":"default-psc"},"region":{"default":"asia-south1"},"service_account_email":{"default":"mock-sa@mock-project.iam.gserviceaccount.com"},"subnet_cidr":{"default":"10.0.0.0/24"},"terraform_backend_bucket":{"default":"default-bucket"},"terraform_backend_prefix":{"default":"default-prefix"},"vpc_name":{"default":"default-vpc"}}}},"relevant_attributes":[{"resource":"module.a-infra.google_compute_backend_service.ext_lb_backend","attribute":["id"]},{"resource":"module.a-infra.google_compute_url_map.ext_lb_map","attribute":["id"]},{"resource":"module.a-infra.google_compute_target_http_proxy.ext_lb_proxy","attribute":["id"]},{"resource":"module.b-devops.google_container_cluster.gke","attribute":["id"]},{"resource":"module.b-devops.kubernetes_service.flask_app_service","attribute":["metadata",0,"name"]},{"resource":"module.b-devops.google_compute_network.vpc_internal","attribute":["id"]},{"resource":"module.a-infra.google_container_cluster.gke_cluster","attribute":["id"]},{"resource":"module.a-infra.google_compute_network.vpc_external","attribute":["name"]},{"resource":"module.a-infra.google_compute_network.vpc_internal","attribute":["id"]},{"resource":"module.a-infra.google_container_node_pool.gke_nodes","attribute":["instance_group_urls",0]}],"timestamp":"2025-02-19T19:37:24Z"}
